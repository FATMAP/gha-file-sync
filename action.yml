name: git-file-sync
author: "SlevinWasAlreadyTaken"
description: "Help to synchronize files between repositories by opening pull requests."
inputs:
  REPOSITORIES:
    description: "Line-separated list of repositories that should receive files updates through automatic pull requests."
    required: true
  FILES_BINDINGS:
    description: "Line-separated list of files bindings that should be trigger updates"
    required: true
  GITHUB_TOKEN:
    description: "Line-separated list of files bindings that should be trigger updates"
    required: true
  DRY_RUN:
    description: "Dry run switch: set to false to create for real pull requests"
    default: 'true'
  COMMIT_MESSAGE:
    description: "Line-separated list of files bindings that should be trigger updates"
    default: "sync from https://github.com/FATMAP/github-file-sync/releases/tag/${{ github.ref_name }}"
runs:
  using: docker
  image: ./git-file-sync/Dockerfile
  env:
    REPOSITORIES: ${{ inputs.REPOSITORIES }}
    FILES_BINDINGS: ${{ inputs.FILES_BINDINGS }}
    GITHUB_TOKEN: ${{ inputs.GITHUB_TOKEN }}
    DRY_RUN: ${{ inputs.DRY_RUN }}
    COMMIT_MESSAGE: ${{ inputs.COMMIT_MESSAGE }}
